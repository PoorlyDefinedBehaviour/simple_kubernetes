syntax = "proto3";

package worker;

service Worker {
  rpc RunTask (RunTaskRequest) returns (RunTaskReply) {}
}

message RunTaskRequest {
  string kind = 1;
  string name = 2;
  Spec spec = 3;
}

message Spec {
  repeated Container container = 1;
}

message Container {
  string image = 1;
  string name = 2;
  repeated Port ports = 3;
}

message Port {
  int32 port = 1;
  string protocol = 2;
}

message RunTaskReply {
  string message = 1;
}